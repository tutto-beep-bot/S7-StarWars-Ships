<div class="register-container">
	<form [formGroup]="form" (ngSubmit)="register()" class="auth-form">
		<h2 class="auth-title">Register</h2>

		<div class="form-group">
			<label for="email" class="form-label">Email</label>
			<input 
                id="email"
                type="email" 
                formControlName="email" 
                class="form-input"
                [class.invalid]="form.controls['email'].invalid && form.controls['email'].touched"
            >
            @if (form.controls['email'].touched && form.controls['email'].errors) {
                <div class="error-message">
                @if (form.controls['email'].errors['required']) {
                    <small>Email is required.</small>
                }
                @if (form.controls['email'].errors['email']) {
                    <small>Enter a valid email.</small>
                }
                </div>
            }
        </div>

        <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <input 
                id="password"
                type="password" 
                formControlName="password" 
                class="form-input"
                [class.invalid]="form.controls['password'].invalid && form.controls['password'].touched"
            >
            @if (form.controls['password'].touched && form.controls['password'].errors) {
                <div class="error-message">
                    @if (form.controls['password'].errors['required']) {
                        <small>Password is required.</small>
                    }
                    @if (form.controls['password'].errors['minlength']) {
                        <small>Minimum 6 characters.</small>
                    }
                </div>
            }
        </div>

        <div class="form-group">
            <label for="confirmPassword" class="form-label">Confirm Password</label>
            <input 
                id="confirmPassword"
                type="password" 
                formControlName="confirmPassword" 
                class="form-input"
                [class.invalid]="form.invalid && form.errors?.['mismatch']"
            >
            @if (form.touched && form.errors?.['mismatch']) {
                <div class="error-message">
                    <small>Passwords must match.</small>
                </div>
            }
        </div>
		<div class="button-container">

			<button type="submit" class="submit-button" [disabled]="form.invalid">
				Sign Up
			</button>
		</div>
    </form>
</div>